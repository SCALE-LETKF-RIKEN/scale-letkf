TOPDIR    = ../../..
SCALE_INC = -I$(TOPDIR)/include$(POSTFIX)
SCALE_LIB = -L$(TOPDIR)/lib -lscale$(POSTFIX)
SCALE_RM_OBJDIR = $(TOPDIR)/scale-rm/src/.libs$(POSTFIX)

SCALE_RM_OBJS = $(shell ls $(SCALE_RM_OBJDIR)/*.o | grep -v "scale-rm.o\|scale-rm_pp.o\|scale-rm_init.o")


include $(TOPDIR)/sysdep/Makedef.$(SCALE_SYS)

include $(TOPDIR)/Mkinclude

#------

include ../arch/configure.user.$(SCALE_SYS)

NETCDF_INC = $(SCALE_NETCDF_INCLUDE)
NETCDF_LIB = $(SCALE_NETCDF_LIBS)

LAPACK_LIB = -mkl=sequential

#BUFR_LIB  = -L/data/opt/bufrlib/10.1.0_intel/lib -lbufrlib

#------

FOPTS_SCALE = $(FFLAGS)

FOPTS     = $(FOPTS_SCALE) 

FBYTESWAP = -convert little_endian
FFREE     = -free
FFIXED    = -fixed

#-----

ifeq ($(SCALE_USER_VER),T)
FOPTS     += -DSCALEUV
endif

ifeq ($(LETKF_SINGLE_FP),T)
FOPTS     += -DSINGLELETKF
endif

ifeq ($(LETKF_DEBUG),T)
FOPTS     += -DLETKF_DEBUG
endif

ifeq ($(H08),T)
FOPTS     += -DH08
FOPTS_SCALE += -DH08
endif

