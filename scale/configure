TOPDIR    = ../../..
include $(TOPDIR)/sysdep/Makedef.$(SCALE_SYS)
include $(TOPDIR)/Mkinclude

SCALE_INC = -I$(TOPDIR)/include$(POSTFIX)
SCALE_LIB = -L$(TOPDIR)/lib -lscale$(POSTFIX)
SCALE_RM_OBJDIR = $(TOPDIR)/scale-rm/src/.libs$(POSTFIX)

SCALE_RM_OBJS = $(shell ls $(SCALE_RM_OBJDIR)/*.o | grep -v "scale-rm.o\|scale-rm_pp.o\|scale-rm_init.o")



#------

include ../arch/configure.user.$(SCALE_SYS)

NETCDF_INC = $(SCALE_NETCDF_INCLUDE)
NETCDF_LIB = $(SCALE_NETCDF_LIBS)

ifeq ($(SCALE_USER_VER),T)
FOPTS     += -DSCALEUV
endif

ifeq ($(LETKF_SINGLE_FP),T)
FOPTS     += -DSINGLELETKF
endif

ifeq ($(LETKF_DEBUG),T)
FOPTS     += -DLETKF_DEBUG
endif

ifeq ($(H08),T)
FOPTS     += -DH08
FOPTS_SCALE += -DH08
endif

ifeq ($(SINGLE_EVP),T)
FOPTS     += -DSINGLE_EVP
endif

ifeq ($(USE_MTX_KEVD),T)
  common_mtx = common_mtx_kevd
else
  common_mtx = common_mtx_lapack
endif
